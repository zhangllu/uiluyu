# 路屿个人网站 - 产品需求规格书（可供性驱动）

<meta>
  <document-id>uiluyu-pr</document-id>
  <version>1.0.0</version>
  <project>路屿个人网站</project>
  <type>产品需求</type>
  <created>2024-12-12</created>
  <depends>real.md, cog.md</depends>
</meta>

---

## 1. 产品环境

**名称：** 路屿个人网站
**标语：** 一个可以沉浸阅读、探索思想的空间
**版本：** 1.0.0

**环境描述：**
这是一个静态个人随笔网站，为读者提供沉静、专注的阅读环境。作者通过人物、故事与思想的对撞，提炼结构洞见；读者在此探索框架、理解叙事如何塑造自我。

**主要智能体：**
- 作者（路屿）：撰写随笔、管理内容、维护网站
- 读者：匿名访客，阅读文章、浏览归档
- Claude（AI助手）：内容协作、代码辅助

**核心可供性：**
1. 阅读可供性（支持深度阅读随笔）
2. 浏览可供性（支持发现和导航内容）
3. 发布可供性（支持作者发布新内容）

---

## 2. 最小可供故事（MAS）

### MAS-1：阅读一篇随笔

**故事主题：**
读者发现一篇随笔，沉浸阅读，获得洞见或启发。

**核心可供性序列：**
1. 入口可供性：访问网站首页（感知：URL、书签）
2. 发现可供性：浏览文章列表（感知：标题、摘要、日期）
3. 选择可供性：点击文章进入详情（感知：可点击标题/卡片）
4. 阅读可供性：沉浸式阅读内容（感知：清晰排版、舒适字体）
5. 闭合可供性：读完返回或继续探索（感知：返回链接、相关文章）

**意义闭合：**
读者完成一次完整的阅读体验，获得关于人物、思想或叙事的新视角。

**内在动机：**
- 兴趣：探索问题背后的机制
- 精通：逐渐理解作者的思维框架
- 自主：自由选择阅读路径

**超出范围：**
- 评论（不同故事："参与讨论"）
- 搜索（不同故事："精准查找"）
- 订阅（不同故事："持续关注"）

---

### MAS-2：按标签探索内容

**故事主题：**
读者通过标签发现同主题的多篇文章，形成系统理解。

**核心可供性序列：**
1. 发现可供性：看到文章标签（感知：标签徽章）
2. 筛选可供性：点击标签进入标签页（感知：可点击标签）
3. 浏览可供性：查看该标签下所有文章（感知：文章列表）
4. 选择可供性：选择感兴趣的文章（感知：标题、摘要）

**意义闭合：**
读者通过主题聚合，建立对某一领域的系统认知。

**故事依赖：**
- 需要：MAS-1（基础阅读能力）
- 支持：MAS-3（时间线浏览）

---

### MAS-3：按时间浏览归档

**故事主题：**
读者按时间顺序回顾作者的写作历程。

**核心可供性序列：**
1. 导航可供性：进入归档页面（感知：导航菜单）
2. 浏览可供性：按年月查看文章（感知：时间分组）
3. 选择可供性：选择特定时期的文章（感知：文章链接）

**意义闭合：**
读者感受作者思想的演变轨迹。

**故事依赖：**
- 需要：MAS-1（基础阅读能力）

---

## 3. 可供性目录

### 3.1 主要可供性（立即可感知）

| ID | 可供性名称 | 支持的行动 | 感知通道 |
|----|-----------|-----------|---------|
| P01 | 首页访问 | 进入网站 | URL、书签 |
| P02 | 文章列表浏览 | 发现内容 | 标题、摘要、日期 |
| P03 | 文章详情阅读 | 深度阅读 | 正文排版、字体 |
| P04 | 标签导航 | 主题筛选 | 标签徽章 |
| P05 | 归档浏览 | 时间线探索 | 年月分组 |

### 3.2 次要可供性（通过交互揭示）

| ID | 可供性名称 | 支持的行动 | 感知通道 |
|----|-----------|-----------|---------|
| S01 | 相关文章推荐 | 延伸阅读 | 文章底部链接 |
| S02 | 返回顶部 | 快速导航 | 悬浮按钮 |
| S03 | 阅读进度 | 感知位置 | 进度条（可选） |

### 3.3 潜在可供性（通过探索发现）

| ID | 可供性名称 | 支持的行动 | 感知通道 |
|----|-----------|-----------|---------|
| L01 | 关于页面 | 了解作者 | 导航链接 |
| L02 | 外部链接 | 扩展阅读 | 文内链接 |

---

## 4. 环境约束

### 4.1 物理约束

| 约束 | 对可供性的影响 |
|------|---------------|
| 静态网站 | 无实时交互，纯内容展示 |
| 响应式设计 | 适配桌面和移动设备 |
| 无后端数据库 | 内容通过 Markdown 文件管理 |

### 4.2 结构约束

| 约束 | 对可供性的影响 |
|------|---------------|
| Markdown 内容 | 文章格式统一，易于维护 |
| Slug 唯一标识 | 每篇文章有唯一 URL |
| 标签多对多 | 文章可属于多个主题 |

### 4.3 安全约束（来自 real.md）

| 约束 | 可供性限制 |
|------|-----------|
| 内容原创性（C1） | 所有内容必须原创或标注来源 |
| 隐私保护（C2） | 不暴露他人隐私信息 |
| 版本控制（C3） | 代码变更通过 Git 管理 |
| 环境一致性（C4） | 使用 bun/uv 管理依赖 |

---

## 5. 感知通道

### 5.1 视觉可供性（人类）

| 元素 | 感知到的操作 | 设计模式 |
|------|-------------|---------|
| 文章标题 | 可点击进入 | 加粗、悬停变色 |
| 标签徽章 | 可点击筛选 | 圆角背景、悬停效果 |
| 导航菜单 | 可切换页面 | 固定位置、清晰标签 |
| 返回链接 | 可返回上级 | 箭头图标、文字提示 |

### 5.2 语义可供性（AI）

| 元素 | 语义标记 | 感知到的操作 |
|------|---------|-------------|
| `<article>` | 文章容器 | 内容边界 |
| `<nav>` | 导航区域 | 页面切换 |
| `<a href>` | 链接 | 可导航目标 |
| `<time>` | 时间标记 | 发布日期 |
| `aria-label` | 描述文本 | 元素用途 |

### 5.3 跨模态可供性

| 可供性 | 人类通道 | AI 通道 | 统一操作 |
|--------|---------|--------|---------|
| 阅读文章 | 视觉浏览 | DOM 解析 | 内容获取 |
| 标签筛选 | 点击标签 | URL 参数 | 内容过滤 |
| 归档浏览 | 点击年月 | 路由导航 | 时间筛选 |

---

## 6. 反馈机制

### 即时反馈（< 100ms）

| 操作 | 人类反馈 | 实现方式 |
|------|---------|---------|
| 悬停链接 | 颜色变化 | CSS :hover |
| 点击按钮 | 视觉按下 | CSS :active |
| 滚动页面 | 内容移动 | 原生滚动 |

### 进度反馈（< 1s）

| 操作 | 人类反馈 | 实现方式 |
|------|---------|---------|
| 页面切换 | 加载指示 | 路由过渡 |
| 图片加载 | 占位符 | 懒加载 |

### 完成反馈（< 5s）

| 操作 | 人类反馈 | 实现方式 |
|------|---------|---------|
| 页面加载 | 内容显示 | SSG 预渲染 |
| 文章渲染 | 完整排版 | Markdown 解析 |

---

## 7. 可供性验收标准

### 可供性：文章阅读（P03）

| ID | 标准 | 人类测试 | AI 测试 |
|----|------|---------|--------|
| AFF-1 | 文章内容可见 | 用户能看到正文 | article 元素存在 |
| AFF-2 | 排版舒适 | 行高、字号适中 | CSS 样式正确 |
| AFF-3 | 标题层次清晰 | h1-h6 层级分明 | 语义标签正确 |
| AFF-4 | 代码块可读 | 语法高亮 | pre/code 标签 |

### 可供性：标签导航（P04）

| ID | 标准 | 人类测试 | AI 测试 |
|----|------|---------|--------|
| AFF-1 | 标签可见 | 文章显示标签 | tag 元素存在 |
| AFF-2 | 标签可点击 | 点击跳转标签页 | href 属性正确 |
| AFF-3 | 筛选有效 | 显示相关文章 | 列表内容匹配 |

### 可供性：归档浏览（P05）

| ID | 标准 | 人类测试 | AI 测试 |
|----|------|---------|--------|
| AFF-1 | 时间分组可见 | 按年月显示 | 时间标签存在 |
| AFF-2 | 文章可选择 | 点击进入详情 | 链接有效 |

---

## 8. 非可供性（明确禁止的动作）

| 动作 | 理由 |
|------|------|
| 用户注册/登录 | 纯阅读网站，无需身份系统 |
| 评论功能 | 保持简洁，避免维护负担 |
| 全文搜索 | MAS-1 优先，后续迭代考虑 |
| 社交分享按钮 | 简洁设计，读者可手动分享 |
| 广告展示 | 保持阅读体验纯净 |

---

## 9. 技术实现

### 9.1 前端可供性渲染

- **框架**：Astro 或 Next.js（静态生成）
- **样式**：Tailwind CSS（简洁、响应式）
- **内容**：Markdown + Frontmatter
- **语法高亮**：Shiki 或 Prism

### 9.2 内容管理

- **文章存储**：`/content/essays/*.md`
- **元数据**：Frontmatter（title, date, tags, excerpt）
- **图片**：`/public/images/`

### 9.3 部署

- **平台**：cnb.cool Pages
- **构建**：bun run build
- **域名**：待定

---

## 10. 页面结构

### 10.1 首页（/）

- 网站标题和简介
- 最新文章列表（5-10篇）
- 导航到归档、标签、关于

### 10.2 文章详情（/essays/[slug]）

- 文章标题、日期、标签
- 正文内容（Markdown 渲染）
- 相关文章推荐（可选）
- 返回首页链接

### 10.3 标签页（/tags/[tag]）

- 标签名称
- 该标签下所有文章列表

### 10.4 归档页（/archive）

- 按年月分组的文章列表

### 10.5 关于页（/about）

- 作者介绍
- 网站说明

---

## 11. 附录

### 11.1 术语表

| 术语 | 定义 |
|------|------|
| 可供性 | 环境为智能体提供的行动可能性 |
| MAS | 最小可供故事，能产生意义的最小行动序列 |
| Slug | URL 友好的唯一标识符 |
| SSG | 静态站点生成 |

### 11.2 参考文档

- `.42cog/real/real.md` - 现实约束
- `.42cog/cog/cog.md` - 认知模型
- `.42cog/meta/meta.md` - 项目元信息

---

**文档版本：** v1.0.0
**创建日期：** 2024-12-12
**维护者：** 路屿
